{"version":3,"sources":["./src/app/mechanic-requests/mechanic-requests.component.css","./src/app/mechanic-requests/mechanic-requests.component.html","./src/app/mechanic-requests/mechanic-requests.component.ts","./src/app/request-make/form.css","./src/app/request-make/request-make.component.css","./src/app/request-make/request-make.component.html","./src/app/request-make/request-make.component.ts","./src/app/requests-routing.module.ts","./src/app/requests.module.ts","./src/app/rrequest.ts","./src/app/user-request/form.css","./src/app/user-request/user-request.component.css","./src/app/user-request/user-request.component.html","./src/app/user-request/user-request.component.ts","./src/app/user.guard.ts"],"names":[],"mappings":"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","file":"requests.module.chunk.js","sourcesContent":["module.exports = \"table {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\ntable th, table td {\\r\\n  padding: 4px;\\r\\n  border: Black 1px dotted;\\r\\n}\\r\\ntable th {\\r\\n  font-size: 16pt;\\r\\n  text-align: center;\\r\\n}\\r\\ntd.centered, td.link {\\r\\n  text-align: center;\\r\\n}\\r\\ntd.link {\\r\\n  width: 100px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mechanic-requests/mechanic-requests.component.css\n// module id = ./src/app/mechanic-requests/mechanic-requests.component.css\n// module chunks = requests.module","module.exports = \"<h1>Заявки на ремонт</h1>\\n<table>\\n  <tr>\\n    <th>Пользователь</th>\\n    <th>Авто</th>\\n    <th>Содержание</th>\\n    <th colspan=\\\"3\\\">&nbsp;</th>\\n  </tr>\\n  <tr *ngFor=\\\"let generalRequest of (generalRequests|async)\\\">\\n    <td>{{generalRequest.sender}}</td>\\n    <td>{{generalRequest.modification}}</td>\\n    <td class=\\\"centered\\\">{{generalRequest.content}}</td>\\n    <td><input *ngIf=\\\" generalRequest.sender != 'Гость '\\\" type=\\\"button\\\" (click)=\\\"acceptGeneral(generalRequest.requestID, 'true')\\\" value=\\\"Принять\\\"><br>\\n      <input type=\\\"button\\\" (click)=\\\"acceptGeneral(generalRequest.requestID, 'false')\\\" value=\\\"Отклонить\\\">\\n    </td>\\n  </tr>\\n  <tr *ngFor=\\\"let exactRequest of (exactRequests|async)\\\">\\n    <td>{{exactRequest.sender}}</td>\\n    <td>{{exactRequest.modification}}</td>\\n    <td class=\\\"centered\\\">{{exactRequest.content}}</td>\\n    <td> <input type=\\\"button\\\" (click)=\\\"acceptExact(exactRequest.requestID, 'true')\\\" value=\\\"Принять\\\"> <br>\\n      <input type=\\\"button\\\" (click)=\\\"acceptExact(exactRequest.requestID, 'false')\\\" value=\\\"Отклонить\\\">\\n    </td>\\n  </tr>\\n</table>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/mechanic-requests/mechanic-requests.component.html\n// module id = ./src/app/mechanic-requests/mechanic-requests.component.html\n// module chunks = requests.module","import { Component, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { Observable } from 'rxjs/Observable';\nimport { RequestsService } from '../requests.service';\nimport { Rrequest } from '../rrequest';\n\n@Component({\n  selector: 'plants-mechanic-requests',\n  templateUrl: './mechanic-requests.component.html',\n  styleUrls: ['./mechanic-requests.component.css']\n})\nexport class MechanicRequestsComponent implements OnInit {\n  name: string;\n  generalRequests: Observable<Rrequest[]>;\n  exactRequests: Observable<Rrequest[]>;\n  constructor(private route: ActivatedRoute, private rs: RequestsService, private router: Router, private title: Title) { }\n\n  ngOnInit() {\n    this.generalRequests = this.rs.getGeneralRequests();\n    this.exactRequests = this.rs.getExactRequests();\n  }\n\n  private acceptExact(id: string, decision: string) {\n    this.rs.acceptExactRequest(id, decision).subscribe();\n    if (decision === 'false') {\n      window.location.reload();\n    }\n    if (decision === 'true') {\n      this.router.navigate(['/messaging/dialogs']);\n    }\n\n  }\n  private acceptGeneral(id: string, decision: string) {\n    this.rs.acceptGeneralRequest(id, decision).subscribe();\n    if (decision === 'false') {\n      window.location.reload();\n    }\n    if (decision === 'true') {\n      this.router.navigate(['/messaging/dialogs']);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/mechanic-requests/mechanic-requests.component.ts","module.exports = \"div.centered {\\r\\n  margin: 30px auto;\\r\\n}\\r\\nform {\\r\\n  border: Black 1px dotted;\\r\\n  padding: 10px;\\r\\n}\\r\\nform input, form select, form textarea {\\r\\n  width: calc(100% - 2 * 3px - 2 * 3px);\\r\\n  border: Black 3px double;\\r\\n  padding: 3px;\\r\\n}\\r\\nform input[type=submit], form input[type=checkbox] {\\r\\n  width: auto;\\r\\n}\\r\\nform *.ng-invalid.ng-dirty {\\r\\n  border-color: Red;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/request-make/form.css\n// module id = ./src/app/request-make/form.css\n// module chunks = requests.module","module.exports = \"div.centered {\\r\\n  width: 200px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/request-make/request-make.component.css\n// module id = ./src/app/request-make/request-make.component.css\n// module chunks = requests.module","module.exports = \"<ng-container>\\n  <h1>Заяка</h1>\\n  <div class=\\\"centered\\\">\\n    <form #requestform=\\\"ngForm\\\" (ngSubmit)=\\\"submitRequest()\\\">\\n      <p>Марка<br>\\n        <select [(ngModel)]=\\\"car.make\\\" (ngModelChange)=\\\"getModels()\\\" name=\\\"make\\\" >\\n          <option [ngValue]=\\\"carName\\\" *ngFor=\\\"let carName of (carNames)\\\">\\n            {{carName}}\\n          </option>\\n        </select>\\n      </p>\\n      <p>Модель<br>\\n        <select [(ngModel)]=\\\"car.model\\\" (ngModelChange)=\\\"getModifications()\\\" name=\\\"carModel\\\">\\n          <option [ngValue]=\\\"carModel\\\" *ngFor=\\\"let carModel of (carModels)\\\">\\n            {{carModel}}\\n          </option>\\n        </select>\\n      </p>\\n      <p>Модификация<br>\\n        <select [(ngModel)]=\\\"car.modification\\\" name=\\\"carModification\\\">\\n          <option [ngValue]=\\\"carModification\\\" *ngFor=\\\"let carModification of (carModifications)\\\">\\n            {{carModification}}\\n          </option>\\n        </select>\\n      </p>\\n      <p>Опишите проблему<br><input [(ngModel)]=\\\"request.content\\\" name=\\\"content\\\" required maxlength=\\\"500\\\"></p>\\n      <p>Укажите номер телефона<br><input type='tel' [(ngModel)]=\\\"request.vin\\\" name=\\\"phone\\\" required maxlength=\\\"10\\\"></p>\\n      <p><input type=\\\"submit\\\" value=\\\"Отправить\\\" [disabled]=\\\"!requestform.valid\\\"></p>\\n    </form>\\n  </div>\\n</ng-container>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/request-make/request-make.component.html\n// module id = ./src/app/request-make/request-make.component.html\n// module chunks = requests.module","import { Component, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { Settings } from '../settings';\nimport { RequestsService } from '../requests.service';\nimport { Rrequest } from '../rrequest';\nimport {Car} from '../car';\nimport {CarsService} from '../cars.service';\n\n@Component({\n  selector: 'plants-request-make',\n  templateUrl: './request-make.component.html',\n  styleUrls: ['./form.css', './request-make.component.css']\n})\nexport class RequestMakeComponent implements OnInit {\n  car: Car;\n  carNames: string[];\n  carModels: string[];\n  carModifications: string[];\n  request: Rrequest;\n\n  constructor(private route: ActivatedRoute, private cs: CarsService,\n              private router: Router, private title: Title, private rs: RequestsService) {\n  }\n\n  ngOnInit() {\n    this.car = new Car();\n    this.request = new Rrequest();\n    this.title.setTitle('Регистрация машины' + Settings.title);\n    this.cs.getMakes().subscribe(data => {\n      this.carNames = JSON.parse(data.text());\n    });\n  }\n\n  private submitRequest(): void {\n    this.request.car = this.car;\n    this.rs.setRequest(this.request).subscribe(response => {\n      if (response.status === 200) {\n        this.router.navigate(['/']);\n      }\n    });\n  }\n\n  private getModels() {\n    this.cs.getModels(this.car.make).subscribe(data => {\n      this.carModels = JSON.parse(data.text());\n    });\n  }\n\n  private getModifications() {\n    this.cs.getModifications(this.car.model).subscribe(data => {\n      this.carModifications = JSON.parse(data.text());\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/request-make/request-make.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { RequestMakeComponent } from './request-make/request-make.component';\nimport { MechanicRequestsComponent } from './mechanic-requests/mechanic-requests.component';\nimport {UnregisteredGuard} from './unregistered.guard';\nimport {SpecializationGuard} from './specialization.guard';\nimport {UserRequestComponent} from './user-request/user-request.component';\nimport {UserGuard} from './user.guard';\n\nconst appRoutes: Routes = [\n  { path: '', children: [\n      { path: 'guest', component: RequestMakeComponent, canActivate: [UnregisteredGuard] },\n      { path: 'user', component: UserRequestComponent, canActivate: [UserGuard]},\n      { path: 'get', component: MechanicRequestsComponent, canActivate: [SpecializationGuard]},\n  ]}\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(appRoutes)\n  ],\n  exports: [\n    RouterModule\n  ],\n  providers: [UnregisteredGuard, SpecializationGuard, UserGuard]\n})\nexport class RequestsRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/requests-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { RequestMakeComponent } from './request-make/request-make.component';\nimport { RequestsRoutingModule } from './requests-routing.module';\nimport { RequestsService } from './requests.service';\nimport { MechanicRequestsComponent } from './mechanic-requests/mechanic-requests.component';\nimport {CarsService} from './cars.service';\nimport { UserRequestComponent } from './user-request/user-request.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RequestsRoutingModule,\n    FormsModule\n  ],\n  declarations: [RequestMakeComponent, MechanicRequestsComponent, UserRequestComponent],\n  providers: [RequestsService, CarsService]\n})\nexport class RequestsModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/requests.module.ts","import {User} from './user';\nimport {Car} from './car' ;\n\nexport class Rrequest {\n  car: Car;\n  modification: string\n  content: string;\n  vin: number;\n  sender: string;\n  requestID: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rrequest.ts","module.exports = \"div.centered {\\r\\n  margin: 30px auto;\\r\\n}\\r\\nform {\\r\\n  border: Black 1px dotted;\\r\\n  padding: 10px;\\r\\n}\\r\\nform input, form select, form textarea {\\r\\n  width: calc(100% - 2 * 3px - 2 * 3px);\\r\\n  border: Black 3px double;\\r\\n  padding: 3px;\\r\\n}\\r\\nform input[type=submit], form input[type=checkbox] {\\r\\n  width: auto;\\r\\n}\\r\\nform *.ng-invalid.ng-dirty {\\r\\n  border-color: Red;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user-request/form.css\n// module id = ./src/app/user-request/form.css\n// module chunks = requests.module","module.exports = \"div.centered {\\n  width: 200px;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user-request/user-request.component.css\n// module id = ./src/app/user-request/user-request.component.css\n// module chunks = requests.module","module.exports = \"<ng-container>\\n  <h1>Ваша Заяка</h1>\\n  <div class=\\\"centered\\\">\\n    <form #requestform=\\\"ngForm\\\" (ngSubmit)=\\\"submitRequest()\\\">\\n      <p>Выберете Авто<br>\\n        <select [(ngModel)]=\\\"request.car\\\" name=\\\"carModification\\\">\\n          <option [ngValue]=\\\"car\\\" *ngFor=\\\"let car of (cars)\\\">\\n            {{car.modification}}\\n          </option>\\n        </select>\\n      </p>\\n      <p>Опишите проблему<br><input [(ngModel)]=\\\"request.content\\\" name=\\\"content\\\" required maxlength=\\\"500\\\"></p>\\n      <p><input type=\\\"submit\\\" value=\\\"Отправить\\\" [disabled]=\\\"!requestform.valid\\\"></p>\\n    </form>\\n  </div>\\n</ng-container>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/user-request/user-request.component.html\n// module id = ./src/app/user-request/user-request.component.html\n// module chunks = requests.module","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {CarsService} from '../cars.service';\nimport {Observable} from 'rxjs/Observable';\nimport {Car} from '../car';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Title} from '@angular/platform-browser';\nimport {RequestsService} from '../requests.service';\nimport {Rrequest} from '../rrequest';\n\n@Component({\n  selector: 'plants-user-request',\n  templateUrl: './user-request.component.html',\n  styleUrls: ['./form.css', './user-request.component.css']\n})\nexport class UserRequestComponent implements OnInit, OnDestroy{\n  cars: Car[];\n  car: Car;\n  request: Rrequest;\n  constructor(private route: ActivatedRoute, private cs: CarsService,\n              private router: Router, private title: Title, private rs: RequestsService) { }\n  ngOnInit() {\n    this.cs.getUserCars().subscribe(data => {\n      console.log(data);\n      this.cars = data;\n    });\n    this.request = new Rrequest();\n    this.request.car = new Car();\n  }\n\n  ngOnDestroy() {\n    sessionStorage.setItem('redirect', 'fromMenu');\n    sessionStorage.setItem('serviceName', '');\n    sessionStorage.setItem('mechanicId', '');\n  }\n  private submitRequest(): void {\n    if (sessionStorage.getItem('redirect') === 'fromMenu') {\n      this.rs.setUserRequest(this.request).subscribe(response => {\n        if (response.status === 200) {\n          this.router.navigate(['/']);\n        }\n      });\n    }\n    if (sessionStorage.getItem('redirect') === 'fromService') {\n      this.rs.setUserRequestFromService(this.request).subscribe(response => {\n        if (response.status === 200) {\n          this.router.navigate(['/']);\n        }\n      });\n    }\n    if (sessionStorage.getItem('redirect') === 'fromMechanic') {\n      this.rs.setUserRequestFromMechanic(this.request).subscribe(response => {\n        if (response.status === 200) {\n          this.router.navigate(['/']);\n        }\n      });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user-request/user-request.component.ts","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport {AuthService} from './auth.service';\n\n@Injectable()\nexport class UserGuard implements CanActivate {\n  constructor(private as: AuthService) { }\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    return this.as.getRole().map((role: string) => role === 'driver');  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user.guard.ts"],"sourceRoot":"webpack:///"}