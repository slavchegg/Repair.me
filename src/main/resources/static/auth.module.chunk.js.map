{"version":3,"sources":["./src/app/auth-routing.module.ts","./src/app/auth.module.ts","./src/app/login/login.component.css","./src/app/login/login.component.html","./src/app/login/login.component.ts","./src/app/logout/logout.component.css","./src/app/logout/logout.component.html","./src/app/logout/logout.component.ts"],"names":[],"mappings":"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","file":"auth.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { RegisteredGuard } from './registered.guard';\nimport { UnregisteredGuard } from './unregistered.guard';\nimport { LoginComponent } from './login/login.component';\nimport { LogoutComponent } from './logout/logout.component';\n\nconst appRoutes: Routes = [\n  { path: '', children: [\n    { path: 'login', component: LoginComponent, canActivate: [UnregisteredGuard]},\n    { path: 'logout', component: LogoutComponent, canActivate: [RegisteredGuard] }\n  ]}\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(appRoutes)\n  ],\n  exports: [\n    RouterModule\n  ],\n  providers: [RegisteredGuard, UnregisteredGuard]\n})\nexport class AuthRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { LogoutComponent } from './logout/logout.component';\nimport { AuthService } from './auth.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule,\n    HttpModule\n  ],\n  declarations: [LoginComponent, LogoutComponent],\n  providers: [AuthService]\n})\nexport class AuthModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth.module.ts","module.exports = \"div.centered {\\r\\n  width: 200px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.css\n// module id = ./src/app/login/login.component.css\n// module chunks = auth.module","module.exports = \"<h1>Вход</h1>\\n<div class=\\\"centered\\\">\\n  <form #loginform=\\\"ngForm\\\" (ngSubmit)=\\\"login()\\\">\\n    <p>Почта<br><input type='email'[(ngModel)]=\\\"credentials.username\\\" name=\\\"username\\\"></p>\\n    <p>Пароль<br><input type=\\\"password\\\" [(ngModel)]=\\\"credentials.password\\\" name=\\\"password\\\"></p>\\n    <p><input type=\\\"submit\\\" value=\\\"Войти\\\" [disabled]=\\\"!loginform.valid\\\"></p>\\n  </form>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = ./src/app/login/login.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\n\nimport { Settings } from '../settings';\nimport { AuthService } from '../auth.service';\nimport { AppComponent } from '../app.component';\nimport {UsersService} from '../users.service';\n\n@Component({\n  selector: 'plants-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['../user-edit/form.css', './login.component.css'],\n})\nexport class LoginComponent implements OnInit {\n  credentials = {username: '', password: ''}; // name is mail, sent to registration/login\n\n  constructor(private as: AuthService, private us: UsersService, private router: Router, private title: Title,\n  private ac: AppComponent) { }\n\n  ngOnInit() {\n    this.title.setTitle('Вход :: ' + Settings.title);\n  }\n\n  login(): void {\n    this.as.login(this.credentials).subscribe((role: string) => {\n      if (role !== 'guest') {\n        this.router.navigate(['']);\n        console.log(role);\n        this.ac.nav.refreshRole();\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","module.exports = \"div.centered {\\r\\n  width: 100px;\\r\\n}\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/logout/logout.component.css\n// module id = ./src/app/logout/logout.component.css\n// module chunks = auth.module","module.exports = \"<h1>Выход</h1>\\n<div class=\\\"centered\\\">\\n  <form (ngSubmit)=\\\"logout()\\\">\\n    <p><input type=\\\"submit\\\" value=\\\"Выйти\\\"></p>\\n  </form>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/logout/logout.component.html\n// module id = ./src/app/logout/logout.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\n\nimport { Settings } from '../settings';\nimport { AuthService } from '../auth.service';\nimport { AppComponent } from '../app.component';\n\n@Component({\n  selector: 'plants-logout',\n  templateUrl: './logout.component.html',\n  styleUrls: ['../user-edit/form.css', './logout.component.css']\n})\nexport class LogoutComponent implements OnInit {\n  constructor(private as: AuthService, private router: Router, private title: Title,\n  private ac: AppComponent) { }\n\n  ngOnInit() {\n    this.title.setTitle('Выход :: ' + Settings.title);\n  }\n\n  logout(): void {\n    this.as.logout().subscribe();\n      if (sessionStorage.getItem('role') === 'guest') {\n        this.router.navigate(['']);\n        this.ac.nav.refreshRole();\n      }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/logout/logout.component.ts"],"sourceRoot":"webpack:///"}